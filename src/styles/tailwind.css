@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    background: var(--surface-alt);
    color: var(--ink);
    @apply scroll-smooth;
  }

  body {
    @apply min-h-dvh antialiased;
  }

  a {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:rgba(0,113,227,0.4)] focus-visible:ring-offset-2;
  }

  strong {
    color: var(--ink);
    font-weight: 600;
  }

  ::selection {
    background: rgba(0, 113, 227, 0.2);
    color: var(--ink);
  }
}

@layer components {
  .hero-grid {
    @apply grid gap-12 lg:grid-cols-[minmax(0,1fr)_minmax(0,1.05fr)] items-center;
  }

  .nav-link {
    @apply inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-medium text-[var(--ink)] text-opacity-70 transition duration-200 hover:text-[var(--ink)] hover:text-opacity-100;
  }

  .nav-link--active {
    @apply text-[var(--ink)] font-semibold;
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-full px-5 py-2.5 text-sm font-semibold transition duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:rgba(0,113,227,0.4)] focus-visible:ring-offset-2;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-full bg-[var(--ink)] px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-black focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/30 focus-visible:ring-offset-2;
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold text-[var(--ink)] text-opacity-70 transition duration-150 hover:bg-[var(--surface-alt)] hover:text-[var(--ink)] hover:text-opacity-100;
  }

  .btn-link {
    @apply inline-flex items-center gap-1 px-0 py-0 text-sm font-semibold text-[var(--accent)] underline-offset-4 transition duration-150 hover:text-[#0a84ff] hover:underline;
  }

  .btn-danger {
    @apply inline-flex items-center justify-center rounded-full bg-[var(--danger)] px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-[#d6291f];
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-compact {
    @apply px-2.5 py-1 text-xs;
  }

  .label {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-[var(--ink-muted)];
  }

  .form-field {
    @apply flex flex-col gap-2 text-sm text-[var(--ink-soft)];
  }

  .form-label {
    @apply text-sm font-semibold text-[var(--ink)];
  }

  .form-hint {
    @apply text-xs text-[var(--ink-muted)];
  }

  .form-error {
    @apply text-xs text-[var(--danger)];
  }

  .input {
    @apply w-full rounded-[18px] border border-[var(--divider)] bg-white px-4 py-3 text-sm text-[var(--ink)] transition duration-200 ease-out placeholder:text-[var(--ink-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:rgba(0,113,227,0.4)] focus-visible:ring-offset-2;
  }

  .input-error {
    @apply border-[var(--danger)] text-[var(--danger)] placeholder:text-[var(--danger)] placeholder:opacity-70 focus-visible:ring-[color:rgba(255,59,48,0.3)];
  }

  .textarea {
    @apply w-full rounded-[18px] border border-[var(--divider)] bg-white px-4 py-3 text-sm text-[var(--ink)] transition duration-200 ease-out placeholder:text-[var(--ink-muted)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:rgba(0,113,227,0.4)] focus-visible:ring-offset-2;
  }

  .table-wrapper {
    @apply overflow-hidden rounded-[24px] border border-[var(--divider)] bg-white shadow-[var(--shadow-soft)];
  }

  .table {
    @apply min-w-full border-collapse text-sm text-[var(--ink-soft)];
  }

  .table thead {
    @apply bg-white/80 text-xs uppercase tracking-[0.35em] text-[var(--ink-muted)];
  }

  .table th {
    @apply px-6 py-4 text-left font-semibold;
  }

  .table td {
    @apply px-6 py-4 align-middle;
  }

  .table tfoot {
    @apply bg-white/90 font-semibold text-[var(--ink)];
  }

  .empty-state {
    @apply flex flex-col items-center justify-center gap-2 rounded-[24px] border border-dashed border-[var(--divider)] bg-white/90 px-10 py-12 text-center text-sm text-[var(--ink-muted)];
  }

  .modal {
    @apply fixed inset-0 z-[1200] flex items-center justify-center bg-black/20 p-6 backdrop-blur-xl;
  }

  .modal__overlay {
    @apply absolute inset-0;
  }

  .modal__panel {
    @apply relative z-10 w-full max-w-3xl rounded-[26px] border border-white/60 bg-white/95 px-6 py-6 shadow-[var(--shadow-glow)] backdrop-blur-xl;
  }

  .modal__close {
    @apply absolute top-4 end-4 inline-flex h-9 w-9 items-center justify-center rounded-full bg-white/80 text-[var(--ink)] shadow-sm transition hover:bg-white;
  }

  .toast {
    @apply flex items-start gap-3 rounded-[18px] border border-[var(--divider)] bg-white/95 px-4 py-3 text-sm text-[var(--ink)];
  }

  .tablist {
    @apply inline-flex rounded-full bg-white/80 p-1 shadow-[var(--shadow-soft)];
  }

  .tab {
    @apply rounded-full px-4 py-2 text-sm font-medium text-[var(--ink)] text-opacity-60 transition hover:text-[var(--ink)] hover:text-opacity-100;
  }

  .tab--active {
    @apply rounded-full bg-white px-4 py-2 text-sm font-semibold text-[var(--ink)] shadow-sm;
  }

  .stat-card {
    @apply rounded-[24px] border border-[var(--divider)] bg-white px-6 py-6 shadow-[var(--shadow-soft)];
  }

  .stat-value {
    @apply text-3xl font-semibold text-[var(--ink)];
  }

  .stat-label {
    @apply text-sm text-[var(--ink-muted)];
  }
}

@layer utilities {
  .shadow-header {
    box-shadow: 0 18px 36px -22px rgba(0, 0, 0, 0.18);
  }

  .bg-angled {
    background: linear-gradient(135deg, rgba(0, 113, 227, 0.08) 0%, rgba(0, 0, 0, 0) 55%);
  }

  .divider {
    @apply divider-horizontal;
  }

  .delay-1 {
    transition-delay: 120ms;
  }

  .delay-2 {
    transition-delay: 220ms;
  }

  .delay-3 {
    transition-delay: 320ms;
  }
}
